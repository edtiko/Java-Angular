<div class="demo-md-panel md-padding">
    <md-content layout-padding>
        <span class="md-headline">Datos Deportivos</span>
        <form name="formProfile" novalidate> 
            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label  for="objective">Objetivo</label>
                        <md-select id="objective" ng-model="userProfile.objective" ng-required="true">
                            <md-option ng-repeat="o in objectives" value="{{o.objectiveId}}" >
                                {{o.name}}
                            </md-option>
                        </md-select>
                        <div class="has-error" ng-messages="formProfile.objective.$error">
                            <div ng-message="required">Este es un campo requerido</div>
                        </div>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-model="user_profileobjective" 
                           ng-change="setVisibleField(user_profileobjective, 'user_profile', 'objective')"> Mostrar</md-switch>

            </div>
            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Disciplina Deportiva</label>
                        <md-select id="discipline" ng-model="userProfile.discipline" required ng-change="getModalitiesByDisciplineId(userProfile.discipline)">
                            <md-option ng-repeat="d in disciplines" value="{{d.disciplineId}}" >
                                {{d.name}}
                            </md-option>
                        </md-select>
                        <div class="has-error" ng-messages="formProfile.discipline.$error">
                            <div ng-message="required">Este es un campo requerido</div>
                        </div>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-model="user_profilediscipline" ng-change="setVisibleField(user_profilediscipline, 'user_profile', 'discipline')
                           "> Mostrar</md-switch>

            </div>
            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Modalidad </label>
                        <md-select  ng-model="userProfile.modality" id="modality" name="modality" required>
                            <md-option ng-repeat="m in modalities" value="{{m.modalityId}}" >
                                {{m.name}}
                            </md-option>
                        </md-select>
                        <div class="has-error" ng-messages="formProfile.modality.$error">
                            <div ng-message="required">Este es un campo requerido</div>
                        </div>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilemodality, 'user_profile', 'modality')"
                           ng-model="user_profilemodality"> Mostrar</md-switch>
            </div>

            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Entorno Geogr&aacute;fico
                            <md-button class="md-icon-button launch">
                                <md-tooltip >
                                    {{showTooltipEnvironment()}}
                                </md-tooltip>
                            </md-button>
                        </label>
                        <md-select  ng-model="userProfile.environmentId" id="environment" name="environment" required>
                            <md-option ng-repeat="m in entornos" value="{{m.environmentId}}" >
                                {{m.name}}
                            </md-option>
                        </md-select>
                        <div class="has-error" ng-messages="formProfile.environment.$error">
                            <div ng-message="required">Este es un campo requerido</div>
                        </div>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileenvironmentId, 'user_profile', 'environmentId')"
                           ng-model="user_profileenvironmentId"> Mostrar</md-switch>

            </div>
            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Clima predominante en sus entrenamientos
                            <md-button class="md-icon-button launch">
                                <md-tooltip >
                                    {{showTooltipWeather()}}
                                </md-tooltip>
                            </md-button>
                        </label>

                        <md-select  ng-model="userProfile.weatherId" id="weather" name="weather" required>
                            <md-option ng-repeat="m in climas" value="{{m.weatherId}}" >
                                {{m.name}}
                            </md-option>
                        </md-select>
                        <div class="has-error" ng-messages="formProfile.weather.$error">
                            <div ng-message="required">Este es un campo requerido</div>
                        </div>
                    </md-input-container>
                </div>
                <md-switch ng-change="setVisibleField(user_profileweatherId, 'user_profile', 'weatherId')" ng-model="user_profileweatherId"> Mostrar</md-switch>
            </div>


            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Edad Deportiva
                            <md-button class="md-icon-button launch">
                                <md-tooltip >
                                    {{showTooltipSportAge()}}
                                </md-tooltip>
                            </md-button>
                        </label>

                        <input type="number" ng-model="userProfile.ageSport">
                    </md-input-container>
                </div>

                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileage_sport, 'user_profile', 'age_sport')"
                           ng-model="user_profileage_sport"> Mostrar</md-switch>
            </div>

            <div layout="row"> 
                <label>Disponibilidad: </label>
            </div>
            <div layout="row"> 
                <div flex="33">
                    <div ng-repeat="d in userProfile.availability"  style="display: inline">
                        <md-checkbox ng-model="availability[d]" value="{{d}}" ng-checked="{{d.checked}}"
                                     ng-checked="getAvailabilityResponse($parent.$index, d)"
                                     ng-click="setAvailabilityResponse($parent.$index, $index, d)">
                            {{d.day}}
                        </md-checkbox>
                        &nbsp;
                    </div>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileuser_availability, 'user_profile', 'user_availability')"
                           ng-model="user_profileuser_availability"> Mostrar</md-switch>
            </div>


            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>&iquest;Practicas otros deportes?</label>
                        <md-select  ng-model="userProfile.sport" id="sport" name="sport">
                            <md-option ng-repeat="m in sports" value="{{m.sportId}}" >
                                {{m.name}}
                            </md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilesport, 'user_profile', 'sport')"
                           ng-model="user_profilesport"> Mostrar</md-switch>
            </div>

            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Acerca de m&iacute;</label>
                        <textarea md-maxlength="500" ng-model="userProfile.aboutMe" md-select-on-focus></textarea>
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileabout_me, 'user_profile', 'about_me')"
                           ng-model="user_profileabout_me"> Mostrar</md-switch>

            </div>

            <div layout="row"> 

                <span class="md-subhead">&iquest;Tienes pulsometro?</span>
            </div>
            <div layout="row"> 
                <div flex="33">
                    <md-radio-group ng-model="userProfile.indPulsometer">
                        <md-radio-button  value="1"> Si</md-radio-button>
                        <md-radio-button  value="0"> No</md-radio-button>
                    </md-radio-group>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilepulsometer, 'user_profile', 'pulsometer')"
                           ng-model="user_profilepulsometer"> Mostrar</md-switch>
            </div>
            <div ng-show="userProfile.indPulsometer == 1">
                <div layout="row"> 
                    <div flex="33">
                        <md-input-container class="md-block" >
                            <label>&iquest;Cu&aacute;l?</label>
                            <md-select  ng-model="userProfile.pulsometer" id="pulsometer" name="pulsometer" ng-change="getModelsPulsometer(userProfile.pulsometer)">
                                <md-option ng-repeat="m in pulsometers" value="{{m.sportEquipmentId}}" >
                                    {{m.brand}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>
                <div ng-show="showModelPulsometer">
                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label >Modelo</label>
                                <md-select  ng-model="userProfile.modelPulsometer" >
                                    <md-option ng-repeat="m in modelsPulsometer" value="{{m.modelEquipmentId}}" >
                                        {{m.name}}
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div ng-show="showAnotherPulsometer">
                    <div layout="row">
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <input type="text" name="otherPulsometer" placeholder="&iquest;Qu&eacute; Marca?" ng-required="showAnotherPulsometer" class="form-control" ng-model="userProfile.otherPulsometer">
                            </md-input-container>
                        </div>
                    </div>
                    <div layout="row">
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <input  name="otherModelPulsometer" placeholder="&iquest;Qu&eacute; Modelo?" ng-required="showAnotherPulsometer" type="text" ng-model="userProfile.otherModelPulsometer">
                            </md-input-container>
                        </div>
                    </div>
                </div>

            </div>

            <div layout="row"> 
                <div flex="33">
                    <md-input-container class="md-block" >
                        <label>Ppm
                            <md-button class="md-icon-button launch">
                                <md-tooltip >
                                    {{showTooltipPpm()}}
                                </md-tooltip>
                            </md-button>
                        </label>
                        <input type="number" class="form-control input-sm" style=" display: inline" ng-model="userProfile.ppm" ng-blur="calculatePpm()" >
                    </md-input-container>
                </div>
                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileppm, 'user_profile', 'ppm')"
                           ng-model="user_profileppm"> Mostrar</md-switch>
            </div>

            <div layout="row">
                <div flex="33">
                    <table class="table table-bordered">
                        <thead>
                        <th>Zona</th>
                        <th colspan="2">Ppm</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2</td>
                                <td>{{ppm81}}</td>
                                <td>{{ppm89}}</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>{{ppm90}}</td>
                                <td>{{ppm93}}</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>{{ppm94}}</td>
                                <td>{{ppm99}}</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>{{ppm100}}</td>
                                <td>{{ppm102}}</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>{{ppm103}}</td>
                                <td>{{ppm106}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div layout="row"> 
                <span class="md-subhead">&iquest;Tienes potenciometro?</span>
            </div>
            <div layout="row"> 
                <div flex="33">
                    <md-radio-group ng-model="userProfile.indPower">
                        <md-radio-button  value="1"> Si</md-radio-button>
                        <md-radio-button  value="0"> No</md-radio-button>
                    </md-radio-group>
                </div>

                <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilepotentiometer, 'user_profile', 'potentiometer')"
                           ng-model="user_profilepotentiometer"> Mostrar</md-switch>
            </div>
            <div ng-show="userProfile.indPower == 1">
                <div layout="row"> 
                    <div flex="33">
                        <md-input-container class="md-block" >
                            <label>&iquest;Cu&aacute;l?</label>
                            <md-select  ng-model="userProfile.potentiometer" id="potentiometer" name="potentiometer" ng-change="getModelsPotentiometer(userProfile.potentiometer)">
                                <md-option ng-repeat="m in potentiometers" value="{{m.sportEquipmentId}}" >
                                    {{m.brand}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                </div>

                <div ng-show="showModelPotentiometer">
                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>Modelo</label>
                                <md-select  ng-model="userProfile.modelPotentiometer" id="modelPotentiometer" name="modelPotentiometer">
                                    <md-option ng-repeat="m in modelsPotentiometer" value="{{m.modelEquipmentId}}" >
                                        {{m.name}}
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                    </div>
                </div>
                <div ng-show="showAnotherPotentiometer">
                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <input type="text" placeholder="&iquest;Qu&eacute; Marca?" ng-required="showAnotherPotentiometer" class="form-control" ng-model="userProfile.otherPotentiometer">
                                </div>
                                </div>
                                <div layout="row"> 
                                    <div flex="33">
                                        <input  class="form-control" placeholder="&iquest;Qu&eacute; Modelo?" ng-required="showAnotherPotentiometer" type="text" ng-model="userProfile.otherModelPotentiometer">
                                    </div>
                                </div>
                        </div>

                    </div>

                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>Potencia
                                    <md-button class="md-icon-button launch">
                                        <md-tooltip >
                                            {{showTooltipPower()}}
                                        </md-tooltip>
                                    </md-button>
                                </label>
                                <input type="number" class="form-control input-sm" style=" display: inline" ng-model="userProfile.power" ng-blur="calculateZone()">
                            </md-input-container>
                        </div>
                        <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilepower, 'user_profile', 'power')"
                                   ng-model="user_profilepower"> Mostrar</md-switch>

                    </div>
                    <div layout="row">
                        <div flex="33">
                            <table class="table table-bordered">
                                <thead>
                                <th>Zona</th>
                                <th colspan="2">Power</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2 Aer&oacute;bico</td>
                                        <td>{{ftp56}}</td>
                                        <td>{{ftp75}}</td>
                                    </tr>
                                    <tr>
                                        <td>3 Tempo</td>
                                        <td>{{ftp76}}</td>
                                        <td>{{ftp90}}</td>
                                    </tr>
                                    <tr>
                                        <td>4 Umbral</td>
                                        <td>{{ftp91}}</td>
                                        <td>{{ftp105}}</td>
                                    </tr>
                                    <tr>
                                        <td>5 VO2 Max</td>
                                        <td>{{ftp106}}</td>
                                        <td>{{ftp120}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>VO2 M&aacute;ximo Running</label>
                                <input type="number"  ng-model="userProfile.vo2Running">
                            </md-input-container>
                        </div>
                        <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilevo2_running, 'user_profile', 'vo2_running')"
                                   ng-model="user_profilevo2_running"> Mostrar</md-switch>
                    </div>
                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>VO2 M&aacute;ximo Ciclismo</label>

                                <input type="number"  ng-model="userProfile.vo2Ciclismo">
                            </md-input-container>
                        </div>
                        <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilevo2_ciclismo, 'user_profile', 'vo2_ciclismo')"
                                   ng-model="user_profilevo2_ciclismo"> Mostrar</md-switch>

                    </div>

                    <div layout="row"> 
                        <div flex="33">
                            <label>&iquest;Tienes bicicleta? </label>
                            <md-radio-group ng-model="indBike">
                                <md-radio-button  value="1"> Si</md-radio-button>
                                <md-radio-button  value="-1"> No</md-radio-button>
                            </md-radio-group>
                        </div>
                        <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profilebike, 'user_profile', 'bike')"
                                   ng-model="user_profilebike"> Mostrar</md-switch>
                    </div>
                    <div  ng-show="indBike == 1">
                        <div layout="row"> 
                            <div flex="33">
                                <md-input-container class="md-block" >
                                    <label>&iquest;Cu&aacute;l?</label>
                                    <md-select  ng-model="userProfile.bikes" id="shoe" name="bikes" ng-change="getModelsBike(userProfile.bikes)">
                                        <md-option ng-repeat="m in bikes" value="{{m.sportEquipmentId}}" >
                                            {{m.brand}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                        <div layout="row"> 
                            <div flex="33">
                                <md-input-container class="md-block" >
                                    <label >Modelo</label>
                                    <md-select  ng-model="userProfile.modelBike" id="shoe" name="bikes">
                                        <md-option ng-repeat="m in modelsBike" value="{{m.modelEquipmentId}}" >
                                            {{m.name}}
                                        </md-option>
                                    </md-select>
                                </md-input-container>
                            </div>
                        </div>
                    </div>

                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>&iquest;Qu&eacute; tipo de zapato para correr usas?</label>
                                <md-select  ng-model="userProfile.shoes" id="shoe" name="shoe">
                                    <md-option ng-repeat="m in shoes" value="{{m.sportEquipmentId}}" >
                                        {{m.brand}}
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                        <md-switch class="md-primary" aria-label="Mostrar" ng-change="setVisibleField(user_profileshoes, 'user_profile', 'shoes')"
                                   ng-model="user_profileshoes"> Mostrar</md-switch>
                    </div>


                    <div layout="row"> 
                        <div flex="33">
                            <md-input-container class="md-block" >
                                <label>Sistema de medici&oacute;n </label>
                                <md-select  ng-model="userProfile.indMetricSys" id="indMetricSys" name="indMetricSys">
                                    <md-option ng-repeat="m in metricSystems" value="{{m.id}}" >
                                        {{m.name}}
                                    </md-option>
                                </md-select>
                            </md-input-container>
                        </div>
                    </div>

                    <section layout="row" layout-sm="column" layout-align="left" layout-wrap>
                        <md-button class="md-raised" ng-click="createOrMergeUserProfile(userProfile)" ng-disabled="formProfile.$invalid">Guardar</md-button>
                        <md-button class="md-raised md-primary" ng-click="generatePlan(userProfile)">Generar Plan</md-button>
                    </section>
                    </form>
                    </md-content>
                </div>
